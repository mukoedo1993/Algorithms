Using Huahua's c-style soln..
